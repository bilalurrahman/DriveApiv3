@model IEnumerable<DriveApiv3.Models.GoogleDriveFiles>
@{
    ViewBag.Title = "Google Drive API v3 - ASP.NET MVC 5 [Everyday Be Coding]";
}
    <style type="text/css">
        #header {
            width: 100%;
            background-color: #CCCCCC;
            text-align: center;
        }

        #layouttable {
            border: 0px;
            width: 100%;
            font-family: 'Segoe UI';
        }

            #layouttable td.col1 {
                width: 20%;
                vertical-align: top;
            }

            #layouttable td.col2 {
                width: 60%;
                vertical-align: top;
                background-color: #E8E8E8;
            }

            #layouttable td.col3 {
                width: 20%;
                vertical-align: top;
            }
    </style>
<div class="jumbotron">
    <h2>Google Drive API v3 - ASP.NET MVC 5 [Everyday Be Coding]</h2>
</div>

<div class="row">

    <center>


       


        <table class="table" border="1">
            <tr id="header">
                <th>
                    <label>Created Date</label>
                </th>
                <th>
                    <label>Name</label>
                </th>
                <th>
                    <label>Version</label>
                </th>
                <th>
                    <label>Size</label>
                </th>

                <th>
                    Action
                </th>
            </tr>

            @if (Model.Count() > 0)
            {
                foreach (var item in Model)
                {
                    <tr id="layouttable">
                        <td>
                           
                        </td>
                        <td>
                            @item.Name
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Version)
                        </td>
                        <td>
                            @{
                                long? KiloByte = @item.Size / 1024;
                                string NewSize = KiloByte + " KB";
                            }
                            @NewSize
                        </td>

                        <td>
                            <a class="btn btn-primary" href="/Home/DownloadFile/@item.Id">Download</a>
                           

                        </td>
                    </tr>

                }
            }
            else
            {
                <td colspan="6">No files found</td>

            }

        </table>

    </center>

    <script>

        $(document).on('click', '.DownloadFile', function (fileId) {
            var fileId = $(this).attr("data-key");
        window.location.href = '/Home/DownloadFile/' + fileId;
    });
    </script>

</div>